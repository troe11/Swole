<!DOCTYPE html>
<html>

<head>
    <title>SwoleMates! Find your workout buddy</title>
</head>
<link rel="stylesheet" href="style.css">
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet">
<script src="https://code.jquery.com/jquery.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

<body>
    <div class="jumbotron jumbotron-fluid">    
        <div class="container">
            <h1 class="display-4">Find your SwoleMate!</h1>
            <p class="lead">A description for this app, no more than 1 or 2 lines</p>
        </div>
    </div>

    <div id="description">
        <h2>Earn points by working your ass off, beat your buddy and climb the leaderboard. Are you ready to get those gains?</h2>
    </div>
    <br>
    <div id="buttons">
        <button id="sign-up"><a href="/signup">Sign Up</a></button>
        <button id="sign-in">Sign In</button>
    </div>
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">Enter Username and PW</h4>
                </div>
                <div class="modal-body">
                    <form id="enter-login">
                        <div class="input-group">
                            <input type="text" class="form-control" placeholder="Username" aria-describedby="basic-addon1" id="username">
                        </div>
                        <div class="input-group">
                            <input type="text" class="form-control" placeholder="Password" aria-describedby="basic-addon2" id="password">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" id="check-user">Sign In</button>
                </div>
            </div>
        </div>
    </div>
</body>
<script type="text/javascript">
$("#sign-in").on('click', function() {
    $('#myModal').modal('show');
})

$("#check-user").on('click', function() {
    var userName = $("#username").val().trim();
    var password = $("#password").val().trim();

    var user = {
        userName: userName,
        password: password
    };

    //need to figure out how to check user name/pw on server side

    $.post("/api/users", user).done(function(data) {
        localStorage.setItem("username", data.userName);
        localStorage.setItem("points", data.points)


// Access some stored data

        window.location.href = "/workouts";
    });


})
</script>

</html>